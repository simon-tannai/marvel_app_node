const path=require("path"),ClassCore=require(path.join(__dirname,"..","..","core","ClassCore.js"));module.exports=class t extends ClassCore{constructor(){super(),this._config=require(this.path.join(__dirname,"..","..","config","marvelApi.json")),this._crypto=require("crypto"),this._http=require("http")}getCharacters(t=0,e=20){return new Promise((n,r)=>{const o=Date.now(),i=this.crypto.createHash("md5").update(o+this.config.privateKey+this.config.publicKey).digest("hex");let s=`/v1/public/characters?ts=${o}&apikey=${this.config.publicKey}&hash=${i}`;t>0&&(s+=`&offset=${t}`),e>0&&(s+=`&limit=${e}`);const c={hostname:"gateway.marvel.com",port:80,path:s,method:"GET",headers:{"Content-Type":"application/JSON"}};let u="";const a=this.http.request(c,t=>{t.setEncoding("utf8"),t.on("data",t=>{u+=t}),t.on("end",()=>{return n(JSON.parse(u).data.results)})});a.on("error",t=>{return this.logger.error(t),r(t)}),a.end()})}get config(){return this._config}get crypto(){return this._crypto}get http(){return this._http}};